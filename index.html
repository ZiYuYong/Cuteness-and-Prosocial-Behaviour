<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virtual Zoo Study - Kindchenschema and Kindness</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            min-height: 100vh;
            box-shadow: 0 0 30px rgba(0,0,0,0.2);
        }
        
        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 3rem 2rem;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .content {
            padding: 2rem;
        }
        
        .section {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }
        
        .section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .zoo-entrance {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 3rem 2rem;
            text-align: center;
            border-radius: 15px;
            margin: 2rem 0;
        }
        
        .form-group {
            margin: 1.5rem 0;
        }
        
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #555;
        }
        
        input, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            margin: 1rem 0;
            padding: 1rem;
            background: rgba(102, 126, 234, 0.05);
            border-radius: 10px;
        }
        
        .checkbox-group input {
            width: auto;
            margin-right: 1rem;
        }
        
        .animal-habitat {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            border-radius: 20px;
            padding: 3rem;
            margin: 2rem 0;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .animal-image {
            max-width: 300px;
            width: 100%;
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            margin-bottom: 1rem;
        }
        
        .slider-container {
            margin: 2rem 0;
        }
        
        .slider {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
            appearance: none;
        }
        
        .slider::-webkit-slider-thumb {
            appearance: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
        }
        
        .amount-display {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
            text-align: center;
            margin: 1rem 0;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
            margin: 1rem 0;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.3s ease;
        }
        
        .error-message {
            color: #e74c3c;
            background: #fdf2f2;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            border-left: 4px solid #e74c3c;
        }
        
        .success-message {
            color: #27ae60;
            background: #f2fdf7;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            border-left: 4px solid #27ae60;
        }
        
        .contact-info {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1rem 0;
        }
        
        .likert-scale {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1rem;
            margin: 2rem 0;
            background: white;
            padding: 1rem;
            border-radius: 10px;
        }
        
        .likert-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 5px;
            transition: background 0.3s ease;
        }
        
        .likert-option:hover {
            background: rgba(102, 126, 234, 0.1);
        }
        
        .likert-option input {
            width: auto;
            margin-bottom: 0.5rem;
        }
        
        .attention-check-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin: 2rem 0;
        }
        
        .attention-option {
            border: 3px solid #e0e0e0;
            border-radius: 10px;
            padding: 1rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .attention-option:hover {
            border-color: #667eea;
        }
        
        .attention-option.selected {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }
        
        .total-display {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            margin: 2rem 0;
        }
        
        @media (max-width: 768px) {
            .header h1 { font-size: 2rem; }
            .likert-scale { grid-template-columns: repeat(4, 1fr); }
            .attention-check-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ü¶Å Virtual Zoo Study ü¶Å</h1>
            <p>Kindchenschema and Kindness: The Effect of Cuteness on Prosocial Behaviour</p>
        </div>
        
        <div class="content">
            <!-- Section 1: Consent -->
            <div class="section active" id="consent">
                <div class="zoo-entrance">
                    <h2>üé™ Welcome to Our Virtual Zoo! üé™</h2>
                    <p>Thank you for joining our research adventure!</p>
                </div>
                
                <h2>Informed Consent</h2>
                <p><strong>Dear Participant,</strong></p>
                <p>Welcome to the study "Kindchenschema and Kindness: The Role of Cuteness in Prosocial Behaviour".</p>
                
                <h3>Study Description:</h3>
                <p>This study investigates the effect of cuteness on prosocial behaviour. Participants must be between 18-25 years old with no uncorrected vision problems.</p>
                
                <h3>What You'll Do:</h3>
                <p>Complete a virtual zoo visit, make donation decisions for animals, and fill out brief questionnaires. Takes about 30 minutes.</p>
                
                <h3>Risks & Benefits:</h3>
                <p>No foreseeable risks. You'll receive compensation and contribute to scientific understanding.</p>
                
                <div class="contact-info">
                    <h4>Support Services:</h4>
                    <p><strong>Centre for Psychological & Counselling Services (CPCS)</strong><br>
                    Tel: 03-7849 3200 | Email: cpcs.hu@help.edu.my</p>
                </div>
                
                <div class="contact-info">
                    <h4>Research Team:</h4>
                    <p><strong>Researcher:</strong> Yong Zi Yu - B2100815@helplive.edu.my<br>
                    <strong>Supervisor:</strong> Ms. Khor Khai Ling - khailing.k@help.edu.my</p>
                </div>
                
                <div class="checkbox-group">
                    <input type="checkbox" id="consentCheck">
                    <label for="consentCheck">I consent to participate in this study voluntarily.</label>
                </div>
                
                <button class="btn" onclick="nextSection('demographics')" id="consentBtn" disabled>üé´ Enter the Zoo</button>
            </div>
            
            <!-- Section 2: Demographics -->
            <div class="section" id="demographics">
                <h2>üé™ Visitor Registration</h2>
                <p>Please provide some basic information:</p>
                
                <div class="form-group">
                    <label for="age">Age:</label>
                    <select id="age">
                        <option value="">Select your age</option>
                        <option value="18">18</option>
                        <option value="19">19</option>
                        <option value="20">20</option>
                        <option value="21">21</option>
                        <option value="22">22</option>
                        <option value="23">23</option>
                        <option value="24">24</option>
                        <option value="25">25</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="gender">Gender:</label>
                    <select id="gender">
                        <option value="">Select your gender</option>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                        <option value="nonbinary">Non-binary/third gender</option>
                        <option value="prefer-not-to-say">Prefer not to say</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="nationality">Nationality:</label>
                    <select id="nationality">
                        <option value="">Select your nationality</option>
                        <option value="malaysian">Malaysian</option>
                        <option value="non-malaysian">Non-Malaysian</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="vision">Vision Status:</label>
                    <select id="vision">
                        <option value="">Select your vision status</option>
                        <option value="no-condition">No vision problems</option>
                        <option value="corrected">Vision corrected with glasses/contacts</option>
                        <option value="uncorrected">Uncorrected vision problems</option>
                        <option value="prefer-not-to-say">Prefer not to say</option>
                    </select>
                </div>
                
                <div id="eligibilityError" class="error-message" style="display: none;"></div>
                
                <button class="btn" onclick="checkEligibility()">Continue to Zoo</button>
            </div>
            
            <!-- Section 3: Instructions -->
            <div class="section" id="instructions">
                <div class="zoo-entrance">
                    <h2>üé™ Virtual Zoo Instructions üé™</h2>
                    <div style="font-size: 2rem; margin: 1rem 0;">ü¶ÅüêØüêªüêºü¶íüêò</div>
                </div>
                
                <div style="background: white; padding: 2rem; border-radius: 15px; margin: 2rem 0;">
                    <h3>How it works:</h3>
                    <ul style="margin: 1rem 0; margin-left: 2rem;">
                        <li>You'll visit different animals in our virtual zoo</li>
                        <li>For each animal, you have <strong>RM10</strong> to spend</li>
                        <li>You can donate any amount (RM0.01 - RM10.00) for the animal's care</li>
                        <li>Or keep the money for yourself</li>
                        <li>You'll see 14 different animals</li>
                        <li>At the end, we'll show your total donations</li>
                    </ul>
                </div>
                
                <button class="btn" onclick="startGame()">üö™ Start Zoo Visit</button>
            </div>
            
            <!-- Section 4: Game -->
            <div class="section" id="game">
                <div class="progress-bar">
                    <div class="progress" id="gameProgress" style="width: 0%"></div>
                </div>
                <p style="text-align: center;">Animal <span id="currentAnimal">1</span> of 14</p>
                
                <div class="animal-habitat">
                    <img id="animalImage" class="animal-image" src="https://i.imgur.com/unjRTSV.png" alt="Animal">
                    <h3 id="animalName">Cute Puppy</h3>
                    <p>You have <strong>RM10</strong> for this animal.</p>
                    <p>How much would you like to donate for food and care?</p>
                    
                    <div class="slider-container">
                        <input type="range" min="0" max="10" value="0" step="0.01" class="slider" id="donationSlider">
                        <div class="amount-display">RM<span id="donationAmount">0.00</span></div>
                        <p style="text-align: center; color: #666;">You keep: RM<span id="keepAmount">10.00</span></p>
                    </div>
                </div>
                
                <button class="btn" onclick="nextAnimal()">Next Animal</button>
            </div>
            
            <!-- Section 5: Manipulation Check -->
            <div class="section" id="manipulation">
                <h2>Rate the Animals</h2>
                <p>Please rate how cute you found each animal:</p>
                
                <div class="progress-bar">
                    <div class="progress" id="manipProgress" style="width: 0%"></div>
                </div>
                <p style="text-align: center;">Animal <span id="currentManipAnimal">1</span> of 14</p>
                
                <div class="animal-habitat">
                    <img id="manipImage" class="animal-image" src="https://i.imgur.com/unjRTSV.png" alt="Animal">
                    <h3 id="manipAnimalName">Cute Puppy</h3>
                    <p>How cute is this animal?</p>
                    
                    <div class="likert-scale">
                        <div class="likert-option">
                            <input type="radio" name="cuteness" value="1">
                            <label>1<br>Not cute</label>
                        </div>
                        <div class="likert-option">
                            <input type="radio" name="cuteness" value="2">
                            <label>2<br>Slightly</label>
                        </div>
                        <div class="likert-option">
                            <input type="radio" name="cuteness" value="3">
                            <label>3<br>Somewhat</label>
                        </div>
                        <div class="likert-option">
                            <input type="radio" name="cuteness" value="4">
                            <label>4<br>Moderately</label>
                        </div>
                        <div class="likert-option">
                            <input type="radio" name="cuteness" value="5">
                            <label>5<br>Quite</label>
                        </div>
                        <div class="likert-option">
                            <input type="radio" name="cuteness" value="6">
                            <label>6<br>Very</label>
                        </div>
                        <div class="likert-option">
                            <input type="radio" name="cuteness" value="7">
                            <label>7<br>Extremely</label>
                        </div>
                    </div>
                </div>
                
                <button class="btn" onclick="nextManipulation()" id="manipBtn" disabled>Next</button>
            </div>
            
            <!-- Section 6: Attention Check -->
            <div class="section" id="attention">
                <h2>Attention Check</h2>
                <p>Select ALL the animals you saw during the zoo visit:</p>
                
                <div class="attention-check-grid">
                    <div class="attention-option" onclick="toggleAttention(this, true)">
                        <img src="https://i.imgur.com/kE9U8g1.png" width="150" alt="Animal 1">
                        <p>Animal A</p>
                    </div>
                    <div class="attention-option" onclick="toggleAttention(this, true)">
                        <img src="https://i.imgur.com/dig6OlQ.png" width="150" alt="Animal 2">
                        <p>Animal B</p>
                    </div>
                    <div class="attention-option" onclick="toggleAttention(this, true)">
                        <img src="https://i.imgur.com/xaxASmm.png" width="150" alt="Animal 3">
                        <p>Animal C</p>
                    </div>
                    <div class="attention-option" onclick="toggleAttention(this, false)">
                        <img src="https://i.imgur.com/JBSsw5g.png" width="150" alt="Wrong Animal">
                        <p>Animal D</p>
                    </div>
                </div>
                
                <div id="attentionError" class="error-message" style="display: none;">
                    Please select only the animals you actually saw.
                </div>
                
                <button class="btn" onclick="checkAttention()">Continue</button>
            </div>
            
            <!-- Section 7: Validity Check -->
            <div class="section" id="validity">
                <h2>Understanding Check</h2>
                <p>What were the task requirements? (Select all that apply)</p>
                
                <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 10px; margin: 1rem 0;">
                    <div class="checkbox-group">
                        <input type="checkbox" id="valid1" value="correct">
                        <label for="valid1">The slider amount goes to the animal</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="valid2" value="incorrect">
                        <label for="valid2">The slider amount is what I keep</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="valid3" value="incorrect">
                        <label for="valid3">I had RM10 total for the entire study</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="valid4" value="correct">
                        <label for="valid4">I had RM10 for each animal</label>
                    </div>
                </div>
                
                <div id="validityError" class="error-message" style="display: none;"></div>
                
                <button class="btn" onclick="checkValidity()">Continue</button>
            </div>
            
            <!-- Section 8: Results -->
            <div class="section" id="results">
                <h2>Thank You!</h2>
                
                <div class="total-display">
                    <h3>Total Donated</h3>
                    <p style="font-size: 2.5rem; margin: 1rem 0;">RM<span id="totalAmount">0.00</span></p>
                </div>
                
                <div style="background: white; padding: 2rem; border-radius: 15px; text-align: center;">
                    <h3>Payment QR Code</h3>
                    <div style="width: 200px; height: 200px; background: #f0f0f0; margin: 1rem auto; display: flex; align-items: center; justify-content: center; border: 2px dashed #ccc;">
                        <p>QR Code Here</p>
                    </div>
                </div>
                
                <button class="btn" onclick="nextSection('debrief')">Continue</button>
            </div>
            
            <!-- Section 9: Debrief -->
            <div class="section" id="debrief">
                <h2>Debriefing</h2>
                <p><strong>Thank you for participating!</strong></p>
                
                <div style="background: #fff3cd; padding: 1.5rem; border-radius: 10px; margin: 1rem 0;">
                    <p><strong>Important:</strong> No real money was involved in this study. The payment scenario was necessary to ensure genuine responses.</p>
                </div>
                
                <p>This study explored how cuteness affects prosocial behavior. Your participation helps advance our understanding of this relationship.</p>
                
                <div class="contact-info">
                    <h4>Questions or Concerns:</h4>
                    <p><strong>Researcher:</strong> Yong Zi Yu ‚Äì B2100815@helplive.edu.my<br>
                    <strong>Supervisor:</strong> Ms. Khor Khai Ling ‚Äì khailing.k@help.edu.my</p>
                </div>
                
                <div class="checkbox-group">
                    <input type="checkbox" id="finalConsent">
                    <label for="finalConsent">I understand no real money was involved and consent to data use.</label>
                </div>
                
                <button class="btn" onclick="completeStudy()" id="finalBtn" disabled>Complete Study</button>
            </div>
            
            <!-- Thank You -->
            <div class="section" id="complete">
                <div class="success-message" style="text-align: center; padding: 3rem;">
                    <h2>Study Complete! üéâ</h2>
                    <p>Thank you for your valuable participation. You may now close this window.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Study data
        let studyData = {
            demographics: {},
            gameData: [],
            manipulationData: [],
            attentionSelections: [],
            totalDonated: 0
        };
        
        // Animal data
        const animals = [
            {name: "Cute Puppy", image: "https://i.imgur.com/unjRTSV.png", type: "baby"},
            {name: "Adult Dog", image: "https://i.imgur.com/xaxASmm.png", type: "adult"},
            {name: "Kitten", image: "https://i.imgur.com/q13LDoX.png", type: "baby"},
            {name: "Cat", image: "https://i.imgur.com/i2d5sZ5.png", type: "adult"},
            {name: "Baby Elephant", image: "https://i.imgur.com/kE9U8g1.png", type: "baby"},
            {name: "Elephant", image: "https://i.imgur.com/kmrTXme.png", type: "adult"},
            {name: "Fawn", image: "https://i.imgur.com/WOhBZZV.png", type: "baby"},
            {name: "Deer", image: "https://i.imgur.com/O3hxUdz.png", type: "adult"},
            {name: "Penguin Chick", image: "https://i.imgur.com/dig6OlQ.png", type: "baby"},
            {name: "Penguin", image: "https://i.imgur.com/zIz8RP9.png", type: "adult"},
            {name: "Seal Pup", image: "https://i.imgur.com/2znBUTL.png", type: "baby"},
            {name: "Seal", image: "https://i.imgur.com/QUc65Tq.png", type: "adult"},
            {name: "Baby Squirrel", image: "https://i.imgur.com/02BYRRJ.png", type: "baby"},
            {name: "Squirrel", image: "https://i.imgur.com/MqRuE18.png", type: "adult"}
        ];
        
        let currentAnimalIndex = 0;
        let currentManipIndex = 0;
        
        // Event listeners
        document.getElementById('consentCheck').addEventListener('change', function() {
            document.getElementById('consentBtn').disabled = !this.checked;
        });
        
        document.getElementById('donationSlider').addEventListener('input', function() {
            const value = parseFloat(this.value);
            document.getElementById('donationAmount').textContent = value.toFixed(2);
            document.getElementById('keepAmount').textContent = (10 - value).toFixed(2);
        });
        
        document.querySelectorAll('input[name="cuteness"]').forEach(input => {
            input.addEventListener('change', function() {
                document.getElementById('manipBtn').disabled = false;
            });
        });
        
        document.getElementById('finalConsent').addEventListener('change', function() {
            document.getElementById('finalBtn').disabled = !this.checked;
        });
        
        // Functions
        function nextSection(sectionId) {
            document.querySelector('.section.active').classList.remove('active');
            document.getElementById(sectionId).classList.add('active');
        }
        
        function checkEligibility() {
            const age = document.getElementById('age').value;
            const gender = document.getElementById('gender').value;
            const nationality = document.getElementById('nationality').value;
            const vision = document.getElementById('vision').value;
            
            const error = document.getElementById('eligibilityError');
            
            if (!age || !gender || !nationality || !vision) {
                error.textContent = 'Please complete all fields.';
                error.style.display = 'block';
                return;
            }
            
            if (vision === 'uncorrected') {
                error.textContent = 'Sorry, this study requires clear vision. Please correct your vision and try again.';
                error.style.display = 'block';
                return;
            }
            
            // Save demographics
            studyData.demographics = {age, gender, nationality, vision};
            
            error.style.display = 'none';
            nextSection('instructions');
        }
        
        function startGame() {
            nextSection('game');
            loadAnimal();
        }
        
        function loadAnimal() {
            if (currentAnimalIndex >= animals.length) {
                nextSection('manipulation');
                loadManipulation();
                return;
            }
            
            const animal = animals[currentAnimalIndex];
            document.getElementById('animalImage').src = animal.image;
            document.getElementById('animalName').textContent = animal.name;
            document.getElementById('currentAnimal').textContent = currentAnimalIndex + 1;
            document.getElementById('donationSlider').value = 0;
            document.getElementById('donationAmount').textContent = '0.00';
            document.getElementById('keepAmount').textContent = '10.00';
            
            const progress = ((currentAnimalIndex + 1) / animals.length) * 100;
            document.getElementById('gameProgress').style.width = progress + '%';
        }
        
        function nextAnimal() {
            const donation = parseFloat(document.getElementById('donationSlider').value);
            
            studyData.gameData.push({
                animal: animals[currentAnimalIndex].name,
                type: animals[currentAnimalIndex].type,
                donation: donation
            });
            
            studyData.totalDonated += donation;
            
            currentAnimalIndex++;
            loadAnimal();
        }
        
        function loadManipulation() {
